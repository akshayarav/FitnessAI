{"ast":null,"code":"import { v4 as uuid } from 'uuid';\nimport React, { useState } from 'react';\nconst [isLoading, setIsLoading] = useState(false);\nconst baseURL = process.env.REACT_APP_URL;\nexport default async function handlePost() {\n  setIsLoading(true);\n  const id = uuid();\n  axios.post(baseURL, {\n    age: $(\"#age\").val(),\n    gender: $(\"#gender\").val(),\n    height: $(\"#height\").val(),\n    weight: $(\"#weight\").val(),\n    days_per_week: $(\"#days_per_week :selected\").text(),\n    experience: $(\"#experience :selected\").text(),\n    goal: $(\"#goal\").val(),\n    id: id\n  }).then(function (response) {\n    console.log(response);\n    return fetchOutputs(id);\n  }).then(function (output) {\n    console.log(output);\n  }).catch(function (error) {\n    console.log(error);\n  });\n  await new Promise(resolve => setTimeout(resolve, 2000));\n  setIsLoading(false);\n}\nasync function fetchOutputs(id) {\n  try {\n    const response = await axios.get(baseURL);\n    let outputData;\n    // Find the element with the same id\n    for (let item of response.data.data) {\n      let body = JSON.parse(item.body);\n      if (body.plan && body.plan.id === id) {\n        outputData = body;\n        break;\n      }\n    }\n    if (outputData) {\n      setOutput(outputData);\n      console.log(outputData.plan.id);\n      return outputData; // Return the data\n    }\n  } catch (error) {\n    console.log(error);\n  }\n  return null;\n}","map":{"version":3,"names":["v4","uuid","React","useState","isLoading","setIsLoading","baseURL","process","env","REACT_APP_URL","handlePost","id","axios","post","age","$","val","gender","height","weight","days_per_week","text","experience","goal","then","response","console","log","fetchOutputs","output","catch","error","Promise","resolve","setTimeout","get","outputData","item","data","body","JSON","parse","plan","setOutput"],"sources":["/Users/akshay/Documents/Projects/FitnessAI/frontend/src/services/fitnessai.js"],"sourcesContent":["import { v4 as uuid } from 'uuid';\nimport React, {useState} from 'react';\n\nconst [isLoading, setIsLoading] = useState(false);\nconst baseURL = process.env.REACT_APP_URL\n\nexport default async function handlePost() {\n    setIsLoading(true)\n    const id = uuid()\n    axios.post(baseURL, {\n      age: $(\"#age\").val(),\n      gender: $(\"#gender\").val(),\n      height: $(\"#height\").val(),\n      weight: $(\"#weight\").val(),\n      days_per_week: $(\"#days_per_week :selected\").text(),\n      experience: $(\"#experience :selected\").text(),\n      goal: $(\"#goal\").val(),\n      id: id\n    })\n    .then(function (response) {\n      console.log(response);\n      return fetchOutputs(id);  \n    })\n    .then(function(output) {\n        console.log(output);\n    })\n    .catch(function (error) {\n      console.log(error);\n    });\n    await new Promise(resolve => setTimeout(resolve, 2000));\n    setIsLoading(false)\n}\n\n\nasync function fetchOutputs (id) {\n    try {\n        const response = await axios.get(baseURL)\n        let outputData;\n        // Find the element with the same id\n        for (let item of response.data.data) {\n          let body = JSON.parse(item.body);\n          if (body.plan && body.plan.id === id) {\n            outputData = body;\n            break;\n          }\n        }\n        if (outputData) {\n          setOutput(outputData);\n          console.log(outputData.plan.id);\n          return outputData;  // Return the data\n        }\n      } catch (error) {\n        console.log(error);\n      }\n      return null;\n  }\n  \n\n  "],"mappings":"AAAA,SAASA,EAAE,IAAIC,IAAI,QAAQ,MAAM;AACjC,OAAOC,KAAK,IAAGC,QAAQ,QAAO,OAAO;AAErC,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGF,QAAQ,CAAC,KAAK,CAAC;AACjD,MAAMG,OAAO,GAAGC,OAAO,CAACC,GAAG,CAACC,aAAa;AAEzC,eAAe,eAAeC,UAAUA,CAAA,EAAG;EACvCL,YAAY,CAAC,IAAI,CAAC;EAClB,MAAMM,EAAE,GAAGV,IAAI,CAAC,CAAC;EACjBW,KAAK,CAACC,IAAI,CAACP,OAAO,EAAE;IAClBQ,GAAG,EAAEC,CAAC,CAAC,MAAM,CAAC,CAACC,GAAG,CAAC,CAAC;IACpBC,MAAM,EAAEF,CAAC,CAAC,SAAS,CAAC,CAACC,GAAG,CAAC,CAAC;IAC1BE,MAAM,EAAEH,CAAC,CAAC,SAAS,CAAC,CAACC,GAAG,CAAC,CAAC;IAC1BG,MAAM,EAAEJ,CAAC,CAAC,SAAS,CAAC,CAACC,GAAG,CAAC,CAAC;IAC1BI,aAAa,EAAEL,CAAC,CAAC,0BAA0B,CAAC,CAACM,IAAI,CAAC,CAAC;IACnDC,UAAU,EAAEP,CAAC,CAAC,uBAAuB,CAAC,CAACM,IAAI,CAAC,CAAC;IAC7CE,IAAI,EAAER,CAAC,CAAC,OAAO,CAAC,CAACC,GAAG,CAAC,CAAC;IACtBL,EAAE,EAAEA;EACN,CAAC,CAAC,CACDa,IAAI,CAAC,UAAUC,QAAQ,EAAE;IACxBC,OAAO,CAACC,GAAG,CAACF,QAAQ,CAAC;IACrB,OAAOG,YAAY,CAACjB,EAAE,CAAC;EACzB,CAAC,CAAC,CACDa,IAAI,CAAC,UAASK,MAAM,EAAE;IACnBH,OAAO,CAACC,GAAG,CAACE,MAAM,CAAC;EACvB,CAAC,CAAC,CACDC,KAAK,CAAC,UAAUC,KAAK,EAAE;IACtBL,OAAO,CAACC,GAAG,CAACI,KAAK,CAAC;EACpB,CAAC,CAAC;EACF,MAAM,IAAIC,OAAO,CAACC,OAAO,IAAIC,UAAU,CAACD,OAAO,EAAE,IAAI,CAAC,CAAC;EACvD5B,YAAY,CAAC,KAAK,CAAC;AACvB;AAGA,eAAeuB,YAAYA,CAAEjB,EAAE,EAAE;EAC7B,IAAI;IACA,MAAMc,QAAQ,GAAG,MAAMb,KAAK,CAACuB,GAAG,CAAC7B,OAAO,CAAC;IACzC,IAAI8B,UAAU;IACd;IACA,KAAK,IAAIC,IAAI,IAAIZ,QAAQ,CAACa,IAAI,CAACA,IAAI,EAAE;MACnC,IAAIC,IAAI,GAAGC,IAAI,CAACC,KAAK,CAACJ,IAAI,CAACE,IAAI,CAAC;MAChC,IAAIA,IAAI,CAACG,IAAI,IAAIH,IAAI,CAACG,IAAI,CAAC/B,EAAE,KAAKA,EAAE,EAAE;QACpCyB,UAAU,GAAGG,IAAI;QACjB;MACF;IACF;IACA,IAAIH,UAAU,EAAE;MACdO,SAAS,CAACP,UAAU,CAAC;MACrBV,OAAO,CAACC,GAAG,CAACS,UAAU,CAACM,IAAI,CAAC/B,EAAE,CAAC;MAC/B,OAAOyB,UAAU,CAAC,CAAE;IACtB;EACF,CAAC,CAAC,OAAOL,KAAK,EAAE;IACdL,OAAO,CAACC,GAAG,CAACI,KAAK,CAAC;EACpB;EACA,OAAO,IAAI;AACf"},"metadata":{},"sourceType":"module","externalDependencies":[]}